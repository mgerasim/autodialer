<%= form_with(model: trank, local: true) do |form| %>
  <% if trank.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(trank.errors.count, "error") %> prohibited this trank from being saved:</h2>

      <ul>
      <% trank.errors.full_messages.each do |message| %>
        <%= content_tag(:div, message, class: "toast toast-error") %>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= form.label "Наименование:", class: "form-label" %>
    <%= form.text_field :name, id: :trank_name, class: "form-input" %>
  </div>

  <div class="field">
    <%= form.label "Исходящий номер:", class: "form-label"  %>
    <%= form.text_field :callerid, id: :trank_callerid, class: "form-input" %>
  </div>
 
  <div class="field">
    <%= form.label "Префикс:", class: "form-label" %>
    <%= form.text_field :prefix, id: :trank_prefix, class: "form-input"  %>
  </div>

  <div class="field">
    <%= form.label "Длительность вызова:", class: "form-label" %>
    <%= form.number_field :waittime, id: :trank_waittime, class: "form-input"  %>
  </div>

  <div class="field">
    <%= form.label "Максимальное количество вызовов:", class: "form-label" %>
    <%= form.number_field :callcount, id: :trank_callcount, class: "form-input"  %>
  </div>

  <% if @config.is_trank_context_showed or is_admin? %>
  	<div class="field">
    		<%= form.label "Контекст выполнения вызова:", class: "form-label" %>
    		<%= form.text_field :context, id: :trank_context, class: "form-input" %>
  	</div>
  <% end %>

  <div class="field">
    <%= form.label "Активное состояние:", class: "form-checkbox" %>
    <%= form.check_box :enabled, id: :trank_enabled  %>
  </div>


 <div class="mt-2 text-center">
    <%= form.submit "Сохранить", class: "btn btn-primary" %>
  </div>

<% end %>
